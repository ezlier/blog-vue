<script setup>
import { computed } from 'vue'
import { useThemeStore } from '@/stores/theme' // è·¯å¾„æŒ‰ä½ çš„é¡¹ç›®è°ƒæ•´

const themeStore = useThemeStore()

// ç»‘å®šä¸»é¢˜çŠ¶æ€
const isDark = computed(() => themeStore.isDark)

// ç‚¹å‡»åˆ‡æ¢
const toggleTheme = () => {
  themeStore.toggleTheme()
}
</script>

<template>
  <button class="theme-toggle" @click="toggleTheme">
    <!-- ðŸŒž ç™½å¤©å›¾æ ‡ -->
    <svg
      v-if="!isDark"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1024 1024"
      class="theme-icon"
    >
      <path
        fill="currentColor"
        d="M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0m543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"
      />
    </svg>

    <!-- ðŸŒ™ å¤œé—´å›¾æ ‡ -->
    <svg
      v-else
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1024 1024"
      class="theme-icon"
    >
      <path
        fill="currentColor"
        d="M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.3 448.3 0 0 1 384 512M171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"
      />
      <path
        fill="currentColor"
        d="M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32m128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"
      />
    </svg>
  </button>
</template>

<style scoped>
.theme-toggle {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--text-color);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  transition: all 0.3s ease;
}

.theme-toggle:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

html.dark .theme-toggle:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.theme-icon {
  width: 24px;
  height: 24px;
  transition: transform 0.4s ease, opacity 0.4s ease;
}
</style>
